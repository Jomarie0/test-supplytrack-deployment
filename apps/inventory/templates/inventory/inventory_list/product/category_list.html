{% extends "base_admin.html" %}
{% block content %}
<h2>Category Management</h2>

<div class="d-flex justify-content-between mb-3">
  <a href="{% url 'inventory:category_add' %}" class="btn btn-primary">+ Add Category</a>
  <a href="{% url 'inventory:archived_category_list_view' %}" class="btn btn-outline-secondary">
    <i class="fas fa-archive me-1"></i> View Archived Categories
  </a>
  <a href="{% url 'inventory:product_list' %}" class="btn btn-secondary btn-icon-split">
    <span class="icon text-white-50"><i class="fas fa-arrow-left"></i></span>
    <span class="text">Back to Active Inventory</span>
</a>
</div>

<table class="table table-striped align-middle">
  <thead>
    <tr>
      <th>Category Name</th>  
      <th>Parent Path</th>
      <th>Status</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    {% for category in categories %}
    <tr>
      <td>{{ category.name }}</td>
      <td>
        {% if category.parent %}
          {{ category.parent.get_full_path }}
        {% else %}
          -
        {% endif %}
      </td>
      <td>
        {% if category.is_active %}
          <span class="badge bg-success">Active</span>
        {% else %}
          <span class="badge bg-secondary">Archived</span>
        {% endif %}
      </td>
      <td>
        <a href="{% url 'inventory:category_edit' category.id %}" class="btn btn-sm btn-warning">Edit</a>
        {% if category.is_active %}
          <a href="{% url 'inventory:category_archive' category.id %}" class="btn btn-sm btn-outline-secondary">Archive</a>
        {% endif %}
      </td>
    </tr>
    {% empty %}
    <tr>
      <td colspan="4" class="text-center">No categories found.</td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
